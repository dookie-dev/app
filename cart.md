à¸„à¸¸à¸“à¸„à¸·à¸­ Senior Full-Stack Engineer + System Architect + Product Designer

à¹€à¸Šà¸µà¹ˆà¸¢à¸§à¸Šà¸²à¸:

Next.js (App Router)

Supabase (PostgreSQL)

SQL Schema Design

LINE Official Account Integration

Dashboard UX (Admin)

â— à¸«à¹‰à¸²à¸¡à¸‚à¹‰à¸²à¸¡à¸‚à¸±à¹‰à¸™
â— à¸«à¹‰à¸²à¸¡à¸¥à¸” feature
â— à¸•à¹‰à¸­à¸‡à¸„à¸´à¸”à¹€à¸œà¸·à¹ˆà¸­ production, scale à¹à¸¥à¸° member system à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•

ğŸ¯ OBJECTIVE

à¸­à¸±à¸à¹€à¸”à¸—à¹€à¸§à¹‡à¸šà¸‚à¸²à¸¢à¸„à¸¸à¸à¸à¸µà¹‰ à¹à¸¥à¸°à¸£à¸°à¸šà¸šà¸«à¸¥à¸±à¸‡à¸šà¹‰à¸²à¸™ à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰ à¸•à¸²à¸£à¸²à¸‡ menus à¸—à¸µà¹ˆà¸¡à¸µà¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§
à¹€à¸à¸´à¹ˆà¸¡à¸£à¸°à¸šà¸š Order à¹€à¸•à¹‡à¸¡à¸£à¸¹à¸›à¹à¸šà¸š à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸«à¸™à¹‰à¸²à¸£à¹‰à¸²à¸™ â†’ LINE â†’ à¸«à¸¥à¸±à¸‡à¸šà¹‰à¸²à¸™

ğŸ§© TECH STACK (à¸«à¹‰à¸²à¸¡à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™)

Frontend: Next.js (App Router)

Backend: Next.js API Routes

Database: Supabase (PostgreSQL)

Product Source: public.menus (à¸‚à¸­à¸‡à¹€à¸”à¸´à¸¡)

Notification: LINE Official Account

Auth (future): Supabase Auth (à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸—à¸³ login)

ğŸ§  CORE CONCEPT (à¸ªà¸³à¸„à¸±à¸à¸¡à¸²à¸)

menus = à¸ªà¸´à¸™à¸„à¹‰à¸² (Product)

âŒ à¸«à¹‰à¸²à¸¡à¸ªà¸£à¹‰à¸²à¸‡ products table à¹ƒà¸«à¸¡à¹ˆ

Order Item à¸•à¹‰à¸­à¸‡ reference menus.id

à¸£à¸²à¸„à¸²à¹à¸¥à¸°à¸Šà¸·à¹ˆà¸­à¹€à¸¡à¸™à¸¹à¸•à¹‰à¸­à¸‡ snapshot à¸“ à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¸±à¹ˆà¸‡

à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£ = key à¸ªà¸³à¸«à¸£à¸±à¸š member à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•

ğŸ›’ CUSTOMER FLOW (à¸•à¹‰à¸­à¸‡à¸•à¸£à¸‡à¸•à¸²à¸¡à¸™à¸µà¹‰)

à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸¥à¸·à¸­à¸à¹€à¸¡à¸™à¸¹à¸ˆà¸²à¸ menus

Add to Cart

Cart à¹à¸ªà¸”à¸‡:

à¹€à¸¡à¸™à¸¹

à¸ˆà¸³à¸™à¸§à¸™

à¸£à¸²à¸„à¸²à¸•à¹ˆà¸­à¸«à¸™à¹ˆà¸§à¸¢

à¸£à¸²à¸„à¸²à¸£à¸§à¸¡

Checkout â†’ à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥:

à¸Šà¸·à¹ˆà¸­

à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£à¸¨à¸±à¸à¸—à¹Œ

à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¸ˆà¸±à¸”à¸ªà¹ˆà¸‡

à¸à¸”à¸›à¸¸à¹ˆà¸¡ â€œà¸ªà¸±à¹ˆà¸‡à¸‹à¸·à¹‰à¸­à¸œà¹ˆà¸²à¸™ LINEâ€

à¸£à¸°à¸šà¸š:

Generate Order Code

à¸ªà¹ˆà¸‡ Order à¹„à¸› LINE OA

Insert à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸¥à¸‡ Supabase

ğŸ†” ORDER CODE FORMAT
DK-YYYY-XXXXXX
à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡: DK-2026-000123


Unique

Increment à¸•à¹ˆà¸­à¸›à¸µ

à¹ƒà¸Šà¹‰à¹€à¸›à¹‡à¸™ reference à¸«à¸¥à¸±à¸à¸—à¸¸à¸à¸£à¸°à¸šà¸š (LINE / Dashboard)

ğŸ’¬ LINE MESSAGE FORMAT (à¸•à¹‰à¸­à¸‡à¹€à¸«à¸¡à¸·à¸­à¸™à¸™à¸µà¹‰)
ğŸ§¾ Order ID: {{order_code}}

ğŸ‘¤ à¸¥à¸¹à¸à¸„à¹‰à¸²:
à¸Šà¸·à¹ˆà¸­: {{customer_name}}
à¹€à¸šà¸­à¸£à¹Œ: {{phone}}

ğŸ“¦ à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¸ˆà¸±à¸”à¸ªà¹ˆà¸‡:
{{address}}

ğŸª à¸£à¸²à¸¢à¸à¸²à¸£à¸ªà¸´à¸™à¸„à¹‰à¸²:
- {{menu_name}} x{{quantity}} = {{subtotal}}à¸¿

ğŸ’° à¸£à¸§à¸¡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”: {{total_amount}}à¸¿

ğŸ—„ï¸ DATABASE DESIGN (Supabase)
âœ… MENUS (à¸¡à¸µà¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§ â€” à¸«à¹‰à¸²à¸¡à¹à¸à¹‰)
public.menus

ğŸ†• customers (à¹€à¸•à¸£à¸µà¸¢à¸¡ member future)
create table public.customers (
  id uuid default uuid_generate_v4() primary key,
  name text,
  phone text unique not null,
  total_spent numeric default 0,
  created_at timestamptz default now()
);

ğŸ†• addresses
create table public.addresses (
  id uuid default uuid_generate_v4() primary key,
  customer_id uuid references public.customers(id),
  address text not null,
  created_at timestamptz default now()
);

ğŸ†• orders
create table public.orders (
  id uuid default uuid_generate_v4() primary key,
  order_code text unique not null,
  customer_id uuid references public.customers(id),
  address_id uuid references public.addresses(id),
  total_amount numeric not null,
  status text default 'pending'
    check (status in ('pending', 'paid', 'shipped', 'cancelled')),
  created_at timestamptz default now()
);

ğŸ†• order_items (à¸œà¸¹à¸à¸à¸±à¸š menus)
create table public.order_items (
  id uuid default uuid_generate_v4() primary key,
  order_id uuid references public.orders(id) on delete cascade,
  menu_id uuid references public.menus(id),
  menu_name_snapshot text not null,
  unit_price numeric not null,
  quantity integer not null,
  subtotal numeric not null
);

ğŸ” BUSINESS LOGIC RULES

subtotal = unit_price * quantity

orders.total_amount = sum(order_items.subtotal)

customers.total_spent += orders.total_amount

phone à¸‹à¹‰à¸³ â†’ à¹ƒà¸Šà¹‰ customer à¹€à¸”à¸´à¸¡

à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ double submit

ğŸ“Š DASHBOARD (Admin)
Dashboard à¸•à¹‰à¸­à¸‡à¸¡à¸µ:

ğŸ“¦ Order List

Order Code

à¸§à¸±à¸™à¸—à¸µà¹ˆ

à¸Šà¸·à¹ˆà¸­à¸¥à¸¹à¸à¸„à¹‰à¸²

à¹€à¸šà¸­à¸£à¹Œ

à¸¢à¸­à¸”à¸£à¸§à¸¡

à¸ªà¸–à¸²à¸™à¸°

ğŸ” Order Detail

à¸£à¸²à¸¢à¸à¸²à¸£à¸ªà¸´à¸™à¸„à¹‰à¸²

à¸ˆà¸³à¸™à¸§à¸™

à¸£à¸²à¸„à¸²

à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¸ˆà¸±à¸”à¸ªà¹ˆà¸‡

ğŸ“ˆ Summary

à¸¢à¸­à¸”à¸‚à¸²à¸¢à¸£à¸§à¸¡

à¸ˆà¸³à¸™à¸§à¸™ Orders

à¸¥à¸¹à¸à¸„à¹‰à¸²à¸‹à¸·à¹‰à¸­à¸‹à¹‰à¸³

Top Menu

ğŸ¨ UI / UX DIRECTION

Minimal

Warm / Bakery feeling

Card + Table

Mobile friendly

à¸­à¹ˆà¸²à¸™à¸‡à¹ˆà¸²à¸¢

à¹ƒà¸Šà¹‰à¹‚à¸—à¸™à¸­à¸šà¸­à¸¸à¹ˆà¸™ (cream / brown / orange soft)

ğŸ” SECURITY & BEST PRACTICE

LINE + Supabase à¸•à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸à¸œà¹ˆà¸²à¸™ API Route à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™

à¹„à¸¡à¹ˆ expose service role key

Validate form à¸—à¸¸à¸ field

Handle error + fallback

à¹ƒà¸Šà¹‰ transaction à¸•à¸­à¸™ insert order

ğŸ“ SUGGESTED FOLDER STRUCTURE (Next.js)
app/
 â”œâ”€ api/
 â”‚   â”œâ”€ checkout/
 â”‚   â””â”€ line/
 â”œâ”€ cart/
 â”œâ”€ checkout/
 â”œâ”€ dashboard/
 â”‚   â”œâ”€ orders/
 â”‚   â””â”€ summary/
 â””â”€ components/

ğŸš€ DELIVERABLES (à¸•à¹‰à¸­à¸‡à¹„à¸”à¹‰à¸„à¸£à¸š)

SQL Schema

Order Code Generator

Cart & Checkout UI

LINE Message Integration

Supabase Insert Logic

Dashboard Pages

Clear Explanation à¸—à¸¸à¸à¸ªà¹ˆà¸§à¸™

âŒ CONSTRAINTS

à¸«à¹‰à¸²à¸¡à¸ªà¸£à¹‰à¸²à¸‡ product table à¹ƒà¸«à¸¡à¹ˆ

à¸«à¹‰à¸²à¸¡ skip schema

à¸«à¹‰à¸²à¸¡à¸¥à¸” feature

à¸•à¹‰à¸­à¸‡à¹€à¸œà¸·à¹ˆà¸­ member system à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•

âœ… FINAL RESULT

à¸£à¸°à¸šà¸šà¸‚à¸²à¸¢à¸„à¸¸à¸à¸à¸µà¹‰à¸—à¸µà¹ˆ:

à¸¥à¸¹à¸à¸„à¹‰à¸²à¸ªà¸±à¹ˆà¸‡à¸‡à¹ˆà¸²à¸¢

Order à¹„à¸› LINE

à¸«à¸¥à¸±à¸‡à¸šà¹‰à¸²à¸™à¸”à¸¹à¸‡à¹ˆà¸²à¸¢

à¸à¸£à¹‰à¸­à¸¡à¸•à¹ˆà¸­à¸¢à¸­à¸”à¹€à¸›à¹‡à¸™ Member / CRM / Loyalty